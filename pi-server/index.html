<head>
     <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
     <div id="plot" ></div>
     <script>
//'%Y-%m-%dT%H:%M:%S'
//style="width:1000px;height:750px;"
function makeplot(){
	Plotly.d3.csv("wifi.csv", function(data){ processData(data)});
}
function processData(data){
	function unpack(rows, key) {
        return rows.map(function(row) { return row[key]; });
    }

    var x = unpack(data, 'time'),
        y = unpack(data, 'signal_quality'),
        group = unpack(data, 'essid')
	makePlotly(x, y, group);
}
function makePlotly(x,y, group){
	var plotDiv = document.getElementById("plot");
	var traces = [{
		name: 'test',
		x: x,
		y: y,
		type: 'scatter',
		mode: 'lines',
		transforms: [{
			type: 'groupby',
			groups: group,
			styles: [
			  {target: 'MOVISTAR_67E6', value: {line: {color: 'blue'}}},
			  {target: 'MOVISTAR_67E6b', value: {line: {color: 'red'}}}
			]
		}]
	}];
	var layout = {
		title: 'Custom Range',
		xaxis: {"type": "date", "autorange": true},
		yaxis: {"type": "linear", "autorange": true}, 
		"autosize": true

	};
	Plotly.plot(plotDiv, traces, layout, {responsive: true});
	
}
makeplot();
     </script> 
</body>
